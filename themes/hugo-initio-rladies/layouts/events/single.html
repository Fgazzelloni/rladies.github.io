{{ define "head" }}
    {{ partial "head/tui-calendar.html" .}}
{{ end }}

{{ define "languages" }}
    {{ partial "languages.html" .}}
{{ end }}

{{ define "main" }}
<main id="main">
	<div class="container" >
		<div class="row topspace">

				<header class="entry-header">
 					<h1 class="entry-title"><a href="{{ .Permalink }}" rel="bookmark">{{ .Title }}</a></h1>
				</header>
				
        <div class="entry-content">
					{{ .Content }}
				</div>
				
        <div id="menu">
          <span id="menu-navi">
            <button type="button" class="btn bttn-no-outline action-button move-today" onClick="calendar.today()">Today</button>
            <button type="button" class="btn bttn-no-outline action-button move-day" onClick="calendar.prev()">
              <i class="fa fa-chevron-left"></i>
            </button>
            <button type="button" class="btn bttn-no-outline action-button move-day" onClick="calendar.next()">
              <i class="fa fa-chevron-right"></i>
            </button>
          </span>
          <span id="renderRange" class="render-range"></span>
        </div>
        <br>
        <div id="calendar" style='width:100%; height:600px;'></div>

		</div> <!-- /row post  -->
	</div>	<!-- /container -->
</main>
{{ end }}

{{ define "footer" }}
  {{ partial "footer/footer.html" . }}
  {{ partial "footer/tui-calendar.html" . }}

<script type="text/javascript" class="code-js">
  var calendar = new tui.Calendar('#calendar', {
    "view": "month", 
    "defaultView": "month",
    "taskView": false,
    "scheduleView": true,
    "useDetailPopup": true,
    "useCreationPopup": false,
    "isReadOnly": true,
    "usageStatistics": false,
    "useNav": true,
    "theme": rladies_monthly,
    "calendars":  [
      {{ range .Site.Data.events.calendars }}
        {
          id: {{ .id }},
          name: {{ .name | default "rladies" }},
          color: {{ .color | default "#88398a" }},
          bgColor: {{ .bgColor | default "#88398a" }},
          dragBgColor: {{ .color | default "#88398a" }},
          borderColor: {{ .color | default "#88398a" }}
        },
      {{ end }}
    ] 
  });
  
  calendar.createSchedules([
    {{ range .Site.Data.events.schedule }}
    {
        category: "time",
        isReadOnly: true, 
        dueDateClass: '',
        
        id: {{ .id }},
        calendarId: {{ .calendarId }},
        title: {{ .title }},
        start: {{ .start }},
        end: {{ .end }},
        body: {{ .body }},
        type: {{ .type }},
        location: {{ .location | default "Not announced"}},
        lat: {{ .lat }},
        long: {{ .long }}
    },
    {{ end }}
  ]);
  </script>
{{ end }}
